<html>
  <head> </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js" integrity="sha512-WJXVjqeINVpi5XXJ2jn0BSCfp0y80IKrYh731gLRnkAS9TKc5KNt/OfLtu+fCueqdWniouJ1ubM+VI/hbo7POQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js" integrity="sha512-WzkwpdWEMAY/W8WvP9KS2/VI6zkgejR4/KTxTl4qHx0utqeyVE0JY+S1DlMuxDChC7x0oXtk/ESji6a0lP/Tdg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="script.js"></script>
    <script defer src="https://unpkg.com/p5.collide2d"></script>

    <script>
      let w = window.innerWidth;
      let h = window.innerHeight;
      var player = new player();
      var blockA = new blockA();
      var blockB = new blockB();
      var blockC = new blockC();

      function setup() {
        createCanvas(w, h);
      }

      function draw() {
        if (keyIsDown(LEFT_ARROW)) {
          player.left();
        }
        if (keyIsDown(RIGHT_ARROW)) {
          player.right();
        }
        clear();
        blockA.show();
        blockB.show();
        blockC.show();
        player.show();
        player.update();
        touchA = collideRectRect(player.x, player.y, 50, 50, blockA.x, blockA.y, blockA.l, blockA.w);
        touchB = collideRectRect(player.x, player.y, 50, 50, blockB.x, blockB.y, blockB.l, blockB.w);
        touchC = collideRectRect(player.x, player.y, 50, 50, blockC.x, blockC.y, blockC.l, blockC.w);
        if (touchA === true) {
          player.x >= blockA.x;
          player.y = blockA.y;
          touchA = false;
        }
        if (touchB === true) {
          player.x >= blockB.x;
          player.y = blockB.y;
          touchB = false;
        }
        if (touchC === true) {
          player.x >= blockC.x;
          player.y = blockC.y;
          touchC = false;
        }
      }

      function keyPressed(){
        //To jump (up arrow)
        if (keyCode === UP_ARROW){
          player.up();
        }
        //To pause/unpause screen (space bar)
        if (keyCode === 32) {
          if(isLooping()){
            noLoop();
          } else {
            loop();
          }
        }
      }
    </script>
  </body>
</html>
